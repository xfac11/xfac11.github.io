<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <body class="bg-yellow-50"><head class="bg-yellow-50">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.svg">

  <title>
  Bug Invasion - Portfolio
  </title>
  <meta name="description" content="For the Game Off jam. A third person shooter made in C# using Unity with enemy AI using procedural animation, Nav Mesh and attack system, shop with upgrades, wave system, VFX using shader graph and particle system." />
  <meta name="author" content="Filip Karlsson" />
  <meta name="generator" content="Hugo 0.120.4"><link
    rel="stylesheet"
    href="https://blist.vercel.app/css/styles.min.dce8c1039a6fbcc6bbef1b6cab87e57ffa7ece20cc670d9438031cb0bf486f83.css"
    integrity="sha256-3OjBA5pvvMa77xtsq4flf/p+ziDMZw2UOAMcsL9Ib4M="
  />
  
  

  <meta property="og:title" content="Bug Invasion" />
<meta property="og:description" content="For the Game Off jam. A third person shooter made in C# using Unity with enemy AI using procedural animation, Nav Mesh and attack system, shop with upgrades, wave system, VFX using shader graph and particle system." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blist.vercel.app/en/blog/bug-invasion/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-12-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-01T00:00:00+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Bug Invasion"/>
<meta name="twitter:description" content="For the Game Off jam. A third person shooter made in C# using Unity with enemy AI using procedural animation, Nav Mesh and attack system, shop with upgrades, wave system, VFX using shader graph and particle system."/>

  <meta itemprop="name" content="Bug Invasion">
<meta itemprop="description" content="For the Game Off jam. A third person shooter made in C# using Unity with enemy AI using procedural animation, Nav Mesh and attack system, shop with upgrades, wave system, VFX using shader graph and particle system."><meta itemprop="datePublished" content="2021-12-01T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-12-01T00:00:00+00:00" />
<meta itemprop="wordCount" content="1806">
<meta itemprop="keywords" content="Unity,C#,Blender,VS," />

  
</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative bg-yellow-50">
  <a href="https://blist.vercel.app/en/" class="capitalize font-extrabold text-2xl">
    
    Portfolio
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-yellow-50 dark:bg-gray-800">

    
    <li><a href="/en/blog">Projects</a></li>
    
    <li><a href="/en/page/about/">About</a></li>
    
    <li><a href="/en/resume/FilipKarlsson_GameProgrammer_CV.pdf">Resume</a></li>
    

    

    

    
    <li class="grid place-items-center">
      <span class="toggle-dark-mode inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="3" />
          <line x1="12" y1="5" x2="12" y2="5.01" />
          <line x1="17" y1="7" x2="17" y2="7.01" />
          <line x1="19" y1="12" x2="19" y2="12.01" />
          <line x1="17" y1="17" x2="17" y2="17.01" />
          <line x1="12" y1="19" x2="12" y2="19.01" />
          <line x1="7" y1="17" x2="7" y2="17.01" />
          <line x1="5" y1="12" x2="5" y2="12.01" />
          <line x1="7" y1="7" x2="7" y2="7.01" />
        </svg>
      </span>
    </li>
    
  </ul>
</header>
<main class="flex-1">
  
  

  
  <div class="relative max-w-5xl mx-auto px-4">
    <img src="/bug_invasion_head.png" class="rounded-lg shadow-sm w-full object-contain" />
    
    <div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">
      
  
    December 1, 2021
  


    </div>
    
  </div>
  

  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

    <h1 class="text-2xl font-bold mb-2">Bug Invasion</h1>
    
    <h5 class="text-sm flex items-center flex-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Posted on 
  
    December 1, 2021
  


      
        &nbsp;&bull;&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      9&nbsp;minutes
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      1806&nbsp;words
      
        
      
    </h5>
    

    <details id="TableOfContents" class="px-4 mt-4 bg-gray-100 dark:bg-gray-700 rounded toc">
    <summary class="flex items-center font-bold py-2 px-4 cursor-pointer justify-between select-none text-black dark:text-white">
      <span>Table of contents</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <polyline points="6 9 12 15 18 9"></polyline>
     </svg>
    </summary>

    <ul class="mt-2 pb-4">
        

        
        <li>
        <a href="#procedural-animation">Procedural animation</a>
        

        
        </li><li>
        <a href="#enemy-ai-using-unity-navmesh-agent">Enemy AI using Unity NavMesh Agent</a>
        

        
        </li><li>
        <a href="#attacking">Attacking</a>
        

        
        <ul>
            <li>
        <a href="#itarget">ITarget</a>
        

        
        </li><li>
        <a href="#better-with-health">Better with Health</a>
        

        
        </li></ul>
      </li><li>
        <a href="#ui">UI</a>
        

        
        <ul>
            <li>
        <a href="#improvement">Improvement</a>
        

        
        </li></ul>
      </li><li>
        <a href="#what-i-learned">What I learned</a>
        </li></ul>
  </details>

    
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/PP9p77pqGvc" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Bug invasion was part of GitHub Game Off 2021 which is a annual game jam where you get one month to create a game based on one theme. The theme was &ldquo;Bug&rdquo; so the first thing I did was to brainstorm ideas. After removing &ldquo;ant simulation&rdquo; and &ldquo;fly tapper&rdquo; I landed on a game where the bugs in a computer is getting destroyed by the player or &ldquo;fixed&rdquo;. I chose the Unity game engine because of my past experience with it.</p>
<p>The game is a third person shooter with a pistol to &ldquo;kill&rdquo; the bugs and a &ldquo;fixer&rdquo; to fix the glitches. I used Trello to plan the project and to manage all the tasks that needed to be done. With this project I wanted to tackle something new and finish in time for the jam. The new thing was procedural animation that I used for the bugs and player.</p>
<h2 id="procedural-animation">Procedural animation</h2>
<p>After watching <a href="https://youtu.be/e6Gjhr1IP6w?si=Iv_sTqm-Kx0YjVQV" target="_blank" rel="noopener">Codeers</a>
 brilliant video, I wanted my bugs to behave the same. To start off I used the inverse kinematics asset called Fast IK by <a href="https://assetstore.unity.com/publishers/30624" target="_blank" rel="noopener">Daniel Erdmann</a>
. It is used to determine the motion a bone structure should make to reach a certain position. For example in games where the foot of the character is placed on top of a staircase. In this case the position is determined by a ray shooting down from the foot and colliding with the scene, say the staircase.</p>
<p>In Bug Invasion the bug has 6 legs, 3 on each side. For each leg there is a point transform that is a child of the bug and offset by some value to be close to the leg. Each point has a component with a script that sets the y position to the ground by using a ray and shooting it down from the leg. Each leg has a target transform with a component that stick the foot to the ground until the point reaches a max distance from the foot. The target is the certain position for the IK to solve a motion for. To move the foot from the stuck position to the point, a Vector3 lerp is used to smoothly move the leg over time. To move the foot up a bit the mathf function pingpong is used to move the target up and then down to the point. Without this the foot would move to the point gliding on the ground.</p>
<p>
<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/yGbqtCQnr20" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

In the video above you can see the bug animated with a slower step time than in the finished game to show the different stages between not stuck and stuck.
The target is represented as a green or red sphere wireframe. When it is red it means it is stuck and green when not stuck. The blue one is the point.</p>
<h2 id="enemy-ai-using-unity-navmesh-agent">Enemy AI using Unity NavMesh Agent</h2>
<p>The game world is placed inside a computer which has typical circuit board parts. To make the bugs avoid these parts and walk toward the player a Navigation mesh is used, also known as NavMesh. To create a NavMesh inside Unity I mark the parts and the ground as Navigation Static and then adjust the agent size and radius and also max slope and step height. There is only one size and radius when baking but I don&rsquo;t have to worry about that because I only have one type of enemy. To make the bug navigate this NavMesh the bug has a component called NavMesh Agent which has the same size and radius as used in the NavMesh. It also has some steering parameters that controls the speed, acceleration and rotation speed. I defined a bug and human agent size asset to make the bugs avoid colliding with each other and the player. (When developing, the bugs walked and rotated toward the player with my own implementation using Coroutine and rigidbody velocity being set to a speed multiplied by the normalized vector from the enemy to the player. This was changed to NavMesh beacuse it was more natural looking and could avoid the parts of the computer.) To make the bug move toward the player a script is used to set the destination of the NavMesh Agent to the players&rsquo; position each fixed update. When the enemy is attacking or dead isStopped is set to true to stop the enemy from moving.</p>
<h2 id="attacking">Attacking</h2>
<p>When the player is close to the bug, the bug attacks the player and deals damage. This is done in the bugs&rsquo; Update function which is called each frame. To know if the bug is in range a distance is calculated with the Vector3 distance function with the player and bug position. Then the DamageRange and the distance is compared and if the distance is smaller and the bug attack is not on cooldown it deals the damage. It also sets the attack on cooldown which is a Coroutine that adds the Deltatime to the attackTime and stops adding when the attackTime is higher than the attackRate. The attackRate is when the bug attacks so if the attackRate is 2, the bug will attack each 2 seconds. (A better name would be attack interval) An animation is also played that moves the bug toward the player using LeanTween and a bite particle is Instantiated.</p>
<h3 id="itarget">ITarget</h3>
<p>To make the enemy or player take damage I created an interface called ITarget. It has only one function called Damage which the bug or the player defines. The definitions take the health of the target and subtracts it with the damage parameter. It then does whatever should happen when that target takes damage. When the bug takes damage it invokes a OnHit event and instantiate a hit particle which is destroyed after 2 seconds. I use this interface to see if the gun hits something that can take damage. The gun shoots a ray and if the hit has a ITarget component, the damage function is called with the gun damage number.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#ff79c6">interface</span> <span style="color:#50fa7b">ITarget</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">void</span> Damage(<span style="color:#8be9fd">int</span> damage);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#ff79c6">void</span> DamageTarget(RaycastHit hit)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    GameObject ps = Instantiate(HitEffect, hit.point, Quaternion.LookRotation(hit.normal));
</span></span><span style="display:flex;"><span>    Destroy(ps, <span style="color:#bd93f9">2f</span>);
</span></span><span style="display:flex;"><span>    ITarget target = hit.collider.GetComponent&lt;ITarget&gt;();
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (target != <span style="color:#ff79c6">null</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      target.Damage(DamageNumber);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="better-with-health">Better with Health</h3>
<p>The negative with this system is that a definition has to be written with every new ITarget. Subtracting a health number is written with each ITarget which is code duplication that should be avoided. Another solution would be to have a Health component which only deals with health subtraction/addition. The only difference in the gun is to get the Health component instead of the ITarget. To make the bug or player do something when they take damage an event would be invoked which the bug or player subscribes to. Instead of having a damage function in the bug and player class which subtracts a damage number it only has to be defined in the Health component. This could also be done with a different event for dying. This separates the code and keeps the classes with minimal responsibilities. With this solution you can add the Health component to a GameObject and now have a health number that decreases each time you shoot at it without having to code anything and only using the Unity Editor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C#" data-lang="C#"><span style="display:flex;"><span><span style="color:#6272a4">//example class</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Health</span> : MonoBehaviour
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd">int</span> currentHealth;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd">int</span> maxHealth;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#ff79c6">void</span> Damage(<span style="color:#8be9fd">int</span> damage)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    OnDamage?.Invoke();
</span></span><span style="display:flex;"><span>    currentHealth -= damage;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span>(currentHealth &lt;= <span style="color:#bd93f9">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      OnDeath?.Invoke();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ui">UI</h2>
<p><img src="/bug_invasion_ui_gameobjects.png" alt="Bug invasion UI gameobjects">
A Canvas is used as the parent to all the UI and the Canvas is a child of the game scene. This will place the UI correctly with different resolutions. Evey UI element is only displaying data and not creating it to seperate it from the logic. The healthbar is created with a Slider. It is updated with a HealthUI component every frame by assigning the slider value to the players&rsquo; health. The player reference is set by dragging the player to the inspector in the editor. For the ammo a somewhat different approach was used with events. Two events invoked by switching guns and adding ammo to the current gun. When switching guns, the weapon image is changed to the object that was passed through the event. The current gun in the UI is also changed. Adding ammo to the gun will spawn text in the scene showing &ldquo;+5&rdquo;. Updating the ammo text is done through the Update function by using the current gun.</p>
<p><img src="/bug_invasion_ui.png" alt="Bug invasion UI"> <!-- Add a video with interaction with the UI --></p>
<h3 id="improvement">Improvement</h3>
<p>Some improvements to the UI need to be done in order to scale it for further development. To easily make changes to the UI and separate it from the game scene a scene is created for it. Modifying the UI can now be done in its own scene and to use it in the game scene we load it in. Another advantage is that we can test the UI without having to start the whole game scene. Another improvement is to use an event to update the healthbar instead of updating it each frame. Each time the player takes damage we invoke an event and the health UI assign its new value. The UI showing the current ammo would also be updated with an event instead of an Update.</p>
<p>Making each type of UI a prefab would also make it more editable without having to change the UI scene although the prefabs could display different when editing them in the prefab mode. To fix this we can set the prefab editing environment to be the UI scene.
With the UI being its own scene a different problem arises. Now we cannot drag the player to the healthbar so to solve it a UI controller is used to add the functions of the UI to the different events. The events are static so we can use the class name and the name of the event to add the functions.</p>
<h2 id="what-i-learned">What I learned</h2>
<p>My goal for this project was to be a part of a game jam and finish in time and to create a procedurally generated animation. I did finish in time but could have polished the project more as mentioned in the improvements in UI and Attacking. The bugs&rsquo; procedurally animation is the most interesting part of this project and I believe the animation turned out good. Although one thing that I could have done is to research how bugs walk in real life to get a grasp of what I am trying to create. The player model also lacks some polish and the walk animation also need to be better. Next time I would create the animation in blender instead of using a proceduraly animated one.</p>
<p>I will take the improvements that I mentioned and use more composition when I design my systems in my next project. It was also a fun and good learning experience trying to create a game in a limited time frame.</p>

  </article>
<div class="px-2 mb-2">
  
  <script src="https://giscus.app/client.js"
    data-repo=""
    data-repo-id=""
    data-category=""
    data-category-id=""
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
  
</div>
<div class="bg-orange-500 dark:bg-gray-900">
  <div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
    <div>
      <div class="text-2xl font-bold mb-2">Follow me</div>
      <p class="opacity-60">I work on games and share my progress</p>
    </div>

    <ul class="flex justify-center gap-x-3 flex-wrap gap-y-2">
      

      

      

      
      <li>
        <a
          href="https://www.linkedin.com/in/filip-karlsson-holger/"
          target="_blank"
          rel="noopener"
          aria-label="LinkedIn"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <rect x="4" y="4" width="16" height="16" rx="2" />
            <line x1="8" y1="11" x2="8" y2="16" />
            <line x1="8" y1="8" x2="8" y2="8.01" />
            <line x1="12" y1="16" x2="12" y2="11" />
            <path d="M16 16v-3a2 2 0 0 0 -4 0" />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      



      

      

      

      

      
      <li>
        <a
          href="https://github.com/xfac11"
          target="_blank"
          rel="noopener"
          aria-label="GitHub"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"
            />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      



      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
      <li>
        <a
          href="https://scholar.google.com/citations?user=myOmEckAAAAJ&amp;hl=en&amp;authuser=1"
          target="_blank"
          rel="noopener"
          aria-label="Google Scholar"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg xmlns="http://www.w3.org/2000/svg"
              class="icon icon-tabler icon-tabler-brand-googlescholar"
              width="22"
              height="23"
              viewBox="0 0 24 24"
              stroke-width="1.4"
              stroke="currentColor"
              fill="none">
            <path d="M5.242 13.769L0 9.5 12 0l12 9.5-5.242 4.269C17.548 11.249 14.978 9.5 12 9.5c-2.977 0-5.548 1.748-6.758 4.269zM12 10a7 7 0 1 0 0 14 7 7 0 0 0 0-14z"/>
          </svg>
        </a>
      </li>
      

      

      

      


    </ul>
  </div>
</div>

      </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2023 - Filip Karlsson · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>








<script>
  
  const darkmode = document.querySelector('.toggle-dark-mode');
  function toggleDarkMode() {
    if (document.documentElement.classList.contains('dark')) {
      document.documentElement.classList.remove('dark')
      localStorage.setItem('darkmode', 'light')
    } else {
      document.documentElement.classList.add('dark')
      localStorage.setItem('darkmode', 'dark')
    }
  }
  if (darkmode) {
    darkmode.addEventListener('click', toggleDarkMode);
  }

  const darkStorage = localStorage.getItem('darkmode');
  const isBrowserDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (!darkStorage && isBrowserDark) {
    document.documentElement.classList.add('dark');
  }

  if (darkStorage && darkStorage === 'dark') {
    toggleDarkMode();
  }
</script>


<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
  </body>
</html>
